package com.springcloud.demo.server.event.core;

import com.google.common.eventbus.EventBus;

/**
 * EventBus中心
 */
public class EventBusCenter {
    private static final EventBus eventBus = new EventBus("event-bus");

    /**
     * 事件登记
     * 这个register方法其实只做了一件事：将目标class的所有onEvent方法取出（通过反射），逐一对事件订阅（通过subscribe）
     * subscribe翻译过来就是“订阅、订购”
     * @param object
     */
    public static void register(Object object) {
        eventBus.register(object);
    }

    // 事件注销
    public static void unregister(Object object) {
        eventBus.unregister(object);
    }

    // 事件发布
    public static void post(Object event) {
        eventBus.post(event);
    }
}
